{% extends 'base.html' %}
{% block content %}
{% load mathfilters %}
<h1>Expenses</h1>
<hr/>
<div style = 'display:flex;'>
  <div class="col-md-2 ">
    <form action = "{% url 'detail' %}">
      <select name = 'filter'>
        <option value = 'Weekly'>Weekly</option>
        <option value = 'Monthly'>Monthly</option>
        <option value = 'Yearly'>Yearly</option>
      </select> <input type = 'submit' value = 'Filter' class = 'btn btn-primary'/>
    </form>
  </div>
  <br/>
  <div class="col-md-4 ">
    <form action = "{% url 'report' %}">
      <select name = 'repo'>
        <option value = 'Expense'>Expense Reports</option>
        <option value = 'Budget'>Budget Reports</option>
      </select> <input type = 'submit' value = 'Generate Reports' class = 'btn btn-primary'/>
    </form>
  </div>
</div>
{% for bud in bud.all %}
<div class='container' style='position:absolute;padding:0px 0px 0px 800px;'>
  <div class="card card border-success mb-3" id = 'test'>
    <div class="card-body">
      <h1 class="card-title">Budget</h1>
      <hr/>
      <div class='col-12'>
        <p class="card-text"><h2>$ {{sue.are|sub:result.tot}}</h2>
      </div>
      <div class='col-12'>
        <h4 class = 'card-text'>Source: {{bud.source}}</h4>
      </div>
        <h5 class = 'card-text' style='font-size:15px;color:light;'><span class="oi oi-clock" style='padding:10px'></span> Last Updated : {{bud.dot_pretty}}</h5></p>
        <a class = 'btn btn-primary' style = 'width:30%;' href ='{% url "budup" bud.id %}'>Update</a>
      </div>
    </div>
  </div>
{% endfor %}


<br/>
<br/>
{% for expense in hey.all %}
<br/>
<div class='container'>
  <div class="col-md-6 ">
    <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative card border-dark mb-3">
      <div class="col p-4 d-flex flex-column position-static bg-white " >
        <strong><h3 class="mb-0">{{expense.title}}</h3></strong>
        <div class="mb-1 text-muted"><span class="oi oi-clock" ></span> {{expense.dot_pretty}}<span/></div>
        <p class="card-text mb-auto" style = 'font-size:20px;'>Expense: $ {{expense.expense}}</p>
        <p class="card-text mb-auto" style = 'font-size:20px;'>Category: {{expense.category}}</p>
        <p class="card-text mb-auto" style = 'font-size:20px;'>Paid Through: {{expense.payment}}</p>
        <div class = 'inline-block'>
          <a class = 'btn btn-danger' style = 'width:40%;' href ='{% url "delexp" expense.id %}'>Delete</a>
          <a class = 'btn btn-primary' style = 'width:40%;' href ='{% url "update" expense.id %}'>Update</a>
        </div>
      </div>
      {% if expense.receipt %}
      <div class="col-auto d-none d-lg-block ">
        <img class="bd-placeholder-img" src = "{{expense.receipt.url}}" width="200" height="250"  aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c">
        </div>
        {% endif %}
      </div>
    </div>
  </div>
  {% endfor %}
  <div class='container'>
    <button class = 'btn btn-primary'><a href ='{% url "expense" %} ' style = 'color:white;text-decoration:none;' id = 'r'>Add Expense</a></button>
  </div>

  {% endblock %}

{% extends 'base.html' %}
{% block content %}
{% load crispy_forms_tags %}
<div class='container'>
  <form method = 'GET'>
    {{filterer.form|crispy}}
    <button type = 'submit' class = 'btn btn-primary btn-icon rounded-pill'>Filter</button>
  </form>
  <br/>
  <div class = 'row'>
    {% for expense in filterer.qs %}
    <div class="col-md-4 ">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative card border-dark mb-3">
        <div class="col p-4 d-flex flex-column position-static bg-white " >
          <strong><h3 class="mb-0">{{expense.title}}</h3></strong>
          <div class="mb-1 text-muted"><span class="oi oi-clock" ></span> {{expense.dot_pretty}}<span/></div>
          <p class="card-text mb-auto" style = 'font-size:20px;'>Expense: $ {{expense.expense}}</p>
          <p class="card-text mb-auto" style = 'font-size:20px;'>Category: {{expense.category}}</p>
          <p class="card-text mb-auto" style = 'font-size:20px;'>Paid Through: {{expense.payment}}</p>
          {% if expense.receipt %}
          <p class="card-text mb-auto" style = 'font-size:20px;'><a href = "{{expense.receipt.url}}" id = 'signup'>View Receipt</a></p>
          {% else %}
          <p class="card-text mb-auto" style = 'font-size:20px;'>Receipt: -</p>
          {% endif %}
          <div class = 'inline-block'>
            <a class = 'btn btn-danger btn-icon rounded-pill ' style = 'width:47%;' href ='{% url "delexp" expense.id %}'>Delete</a>
            <a class = 'btn btn-success btn-icon rounded-pill ' style = 'width:47%;' href ='{% url "update" expense.id %}'>Update</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
